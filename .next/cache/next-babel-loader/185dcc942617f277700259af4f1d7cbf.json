{"ast":null,"code":"import _taggedTemplateLiteral from \"@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\renar\\\\OneDrive\\\\Desktop\\\\class\\\\Capstone Restaurant\\\\pages\\\\restaurants.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  query($id: ID!) {\\n    restaurant(id: $id) {\\n      id\\n      name\\n      dishes {\\n        name\\n        calories\\n        id\\n        name\\n        description\\n        price\\n        image {\\n          url\\n        }\\n      }\\n    }\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\n/* /pages/restaurants.js */\nimport React, { useState } from \"react\";\nimport { useContext } from \"react\";\nimport { gql, useQuery } from \"@apollo/client\";\nimport { useRouter } from \"next/router\";\nimport Cart from \"../components/cart\";\nimport AppContext from \"../components/context\";\nimport client from '../components/client';\nimport { InputGroup, InputGroupAddon, Input } from \"reactstrap\";\nimport { Button, Card, CardBody, CardImg, CardText, CardTitle, Container, Col, Row } from \"reactstrap\";\nvar GET_RESTAURANT_DISHES = gql(_templateObject());\n\nfunction Restaurants() {\n  _s();\n\n  var _this = this;\n\n  var _useState = useState(\"\"),\n      query = _useState[0],\n      setQuery = _useState[1];\n\n  var appContext = useContext(AppContext);\n  var router = useRouter();\n\n  var _useQuery = useQuery(GET_RESTAURANT_DISHES, {\n    variables: {\n      id: router.query.id\n    },\n    client: client\n  }),\n      loading = _useQuery.loading,\n      error = _useQuery.error,\n      data = _useQuery.data;\n\n  if (error) return \"Error Loading Dishes\";\n  if (loading) return __jsx(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 23\n    }\n  }, \"Loading ...\");\n\n  if (data.restaurant) {\n    var restaurant = data.restaurant;\n    console.log(restaurant);\n    var searchQuery = restaurant.dishes.filter(function (res) {\n      return res.name.toLowerCase().includes(query);\n    });\n    var dishList = searchQuery.map(function (res) {\n      return __jsx(Col, {\n        xs: \"6\",\n        sm: \"4\",\n        style: {\n          padding: 0\n        },\n        key: res.id,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 7\n        }\n      }, __jsx(Card, {\n        style: {\n          margin: \"0 10px\"\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 9\n        }\n      }, __jsx(CardImg, {\n        top: true,\n        style: {\n          height: 250\n        },\n        src: \"http://localhost:1337\" + res.image.url,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }\n      }), __jsx(CardBody, {\n        className: \"text-card\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }\n      }, __jsx(CardTitle, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }\n      }, \"Name: \", res.name), __jsx(CardText, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }\n      }, \" Description: \", res.description), __jsx(CardText, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }\n      }, \" Price: $\", res.price), __jsx(CardText, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }\n      }, \"Calories: \", res.calories)), __jsx(\"div\", {\n        className: \"card-footer\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }\n      }, __jsx(Button, {\n        outline: true,\n        color: \"danger\",\n        onClick: function onClick() {\n          return appContext.addItem(res);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }\n      }, \"+ Add To Cart\"))));\n    });\n    return __jsx(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 7\n      }\n    }, __jsx(\"div\", {\n      className: \"search\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }\n    }, __jsx(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }\n    }, \" Local Dishes\"), __jsx(InputGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }\n    }, __jsx(InputGroupAddon, {\n      addonType: \"append\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }\n    }, \" Search \"), __jsx(Input, {\n      placeholder: \"Enter Dishes\",\n      onChange: function onChange(e) {\n        return setQuery(e.target.value.toLocaleLowerCase());\n      },\n      value: query,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }\n    })), __jsx(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 22\n      }\n    })), searchQuery.length > 0 ? __jsx(Row, {\n      xs: \"3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }\n    }, dishList) : __jsx(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 12\n      }\n    }, \"No Dishes Found\"), __jsx(Cart, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 8\n      }\n    }));\n  } // if bracket\n\n} // function bracket\n\n\n_s(Restaurants, \"hV2bqkdi7DRfmSzPUCWybGwUvNY=\", false, function () {\n  return [useRouter, useQuery];\n});\n\n_c = Restaurants;\nexport default Restaurants;\n\nvar _c;\n\n$RefreshReg$(_c, \"Restaurants\");","map":{"version":3,"sources":["C:/Users/renar/OneDrive/Desktop/class/Capstone Restaurant/pages/restaurants.js"],"names":["React","useState","useContext","gql","useQuery","useRouter","Cart","AppContext","client","InputGroup","InputGroupAddon","Input","Button","Card","CardBody","CardImg","CardText","CardTitle","Container","Col","Row","GET_RESTAURANT_DISHES","Restaurants","query","setQuery","appContext","router","variables","id","loading","error","data","restaurant","console","log","searchQuery","dishes","filter","res","name","toLowerCase","includes","dishList","map","padding","margin","height","image","url","description","price","calories","addItem","e","target","value","toLocaleLowerCase","length"],"mappings":"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","sourcesContent":["/* /pages/restaurants.js */\r\nimport React, { useState } from \"react\";\r\nimport { useContext } from \"react\";\r\nimport { gql, useQuery } from \"@apollo/client\";\r\nimport { useRouter } from \"next/router\";\r\nimport Cart from \"../components/cart\";\r\nimport AppContext from \"../components/context\";\r\nimport client from '../components/client'\r\nimport { InputGroup, InputGroupAddon,Input} from \"reactstrap\";\r\n\r\nimport {\r\n  Button,\r\n  Card,\r\n  CardBody,\r\n  CardImg,\r\n  CardText,\r\n  CardTitle,\r\n  Container,\r\n  Col,\r\n  Row,\r\n} from \"reactstrap\";\r\n\r\nconst GET_RESTAURANT_DISHES = gql`\r\n  query($id: ID!) {\r\n    restaurant(id: $id) {\r\n      id\r\n      name\r\n      dishes {\r\n        name\r\n        calories\r\n        id\r\n        name\r\n        description\r\n        price\r\n        image {\r\n          url\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nfunction Restaurants() {\r\n  const [query, setQuery] = useState(\"\");\r\n  const appContext = useContext(AppContext);\r\n  const router = useRouter();\r\n  const { loading, error, data } = useQuery(GET_RESTAURANT_DISHES, {\r\n    variables: { id: router.query.id },\r\n    client: client,\r\n  });\r\n\r\n  if (error) return \"Error Loading Dishes\";\r\n  if (loading) return <h1>Loading ...</h1>;\r\n  if (data.restaurant) {\r\n    const { restaurant } = data;\r\n    console.log(restaurant)\r\n    let searchQuery = restaurant.dishes.filter((res) =>{\r\n        return res.name.toLowerCase().includes(query)\r\n    })\r\n\r\n    const dishList = searchQuery.map((res) => (\r\n      <Col xs=\"6\" sm=\"4\" style={{ padding: 0 }} key={res.id}>\r\n        <Card style={{ margin: \"0 10px\" }}>\r\n          <CardImg\r\n            top={true}\r\n            style={{ height: 250 }}\r\n            src={\r\n              `http://localhost:1337`+ res.image.url\r\n              }\r\n          />\r\n          <CardBody className=\"text-card\">\r\n            <CardTitle >Name: {res.name}</CardTitle>\r\n            <CardText> Description: {res.description}</CardText>\r\n            <CardText> Price: ${res.price}</CardText>\r\n            <CardText>Calories: {res.calories}</CardText>\r\n\r\n          </CardBody>\r\n          <div className=\"card-footer\">\r\n            <Button\r\n              outline\r\n              color=\"danger\"\r\n              onClick={() => appContext.addItem(res)}\r\n            >\r\n              + Add To Cart\r\n            </Button>\r\n          </div>\r\n        </Card>\r\n      </Col>\r\n    ));\r\n\r\n    return (\r\n      <Container>\r\n        <div className=\"search\">\r\n        <h2> Local Dishes</h2>\r\n        <InputGroup >\r\n        <InputGroupAddon addonType=\"append\"> Search </InputGroupAddon>\r\n        <Input\r\n            placeholder=\"Enter Dishes\"\r\n            onChange={(e) =>\r\n            setQuery(e.target.value.toLocaleLowerCase())\r\n            }\r\n            value={query}\r\n        />\r\n        </InputGroup><br></br>\r\n      </div>\r\n\r\n      { (searchQuery.length > 0) ? (\r\n        <Row xs='3'>\r\n          {dishList}\r\n        </Row>\r\n       ) : <h1>No Dishes Found</h1>}\r\n\r\n       <Cart />\r\n      </Container>\r\n      \r\n    )\r\n  } // if bracket\r\n} // function bracket\r\n\r\nexport default Restaurants;\r\n"]},"metadata":{},"sourceType":"module"}