{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\n\n/* /pages/restaurants.js */\nimport React, { useState } from \"react\";\nimport { useContext } from \"react\";\nimport { gql, useQuery } from \"@apollo/client\";\nimport { useRouter } from \"next/router\";\nimport Cart from \"../components/cart\";\nimport AppContext from \"../components/context\";\nimport client from '../components/client';\nimport { InputGroup, InputGroupAddon, Input } from \"reactstrap\";\nimport { Button, Card, CardBody, CardImg, CardText, CardTitle, Container, Col, Row } from \"reactstrap\";\nconst GET_RESTAURANT_DISHES = gql`\n  query($id: ID!) {\n    restaurant(id: $id) {\n      id\n      name\n      dishes {\n        name\n        calories\n        id\n        description\n        price\n        image {\n          url\n        }\n      }\n    }\n  }\n`;\n\nfunction Restaurants() {\n  const {\n    0: query,\n    1: setQuery\n  } = useState(\"\");\n  const appContext = useContext(AppContext);\n  const router = useRouter();\n  const {\n    loading,\n    error,\n    data\n  } = useQuery(GET_RESTAURANT_DISHES, {\n    variables: {\n      id: router.query.id\n    },\n    client: client\n  });\n  if (error) return \"Error Loading Dishes\";\n  if (loading) return __jsx(\"h1\", null, \"Loading ...\");\n\n  if (data.restaurant) {\n    const {\n      restaurant\n    } = data;\n    console.log(restaurant);\n    let searchQuery = restaurant.dishes.filter(res => {\n      return res.name.toLowerCase().includes(query);\n    });\n    const dishList = searchQuery.map(res => __jsx(Col, {\n      xs: \"6\",\n      sm: \"4\",\n      style: {\n        padding: 0\n      },\n      key: res.id\n    }, __jsx(Card, {\n      style: {\n        margin: \"0 10px\"\n      }\n    }, __jsx(CardImg, {\n      top: true,\n      style: {\n        height: 250\n      },\n      src: `http://localhost:1337` + res.image.url\n    }), __jsx(CardBody, {\n      className: \"text-card\"\n    }, __jsx(CardTitle, null, \"Name: \", res.name), __jsx(CardText, null, \" Description: \", res.description), __jsx(CardText, null, \" Price: $\", res.price), __jsx(CardText, null, \"Calories: \", res.calories)), __jsx(\"div\", {\n      className: \"card-footer\"\n    }, __jsx(Button, {\n      outline: true,\n      color: \"danger\",\n      onClick: () => appContext.addItem(res)\n    }, \"+ Add To Cart\")))));\n    return __jsx(Container, null, __jsx(\"div\", {\n      className: \"jsx-2255125347\" + \" \" + \"search\"\n    }, __jsx(\"h2\", {\n      className: \"jsx-2255125347\"\n    }, \" Local Dishes\"), __jsx(InputGroup, null, __jsx(InputGroupAddon, {\n      addonType: \"append\"\n    }, \" Search \"), __jsx(Input, {\n      placeholder: \"Enter Dishes\",\n      onChange: e => setQuery(e.target.value.toLocaleLowerCase()),\n      value: query\n    })), __jsx(\"br\", {\n      className: \"jsx-2255125347\"\n    }), __jsx(\"h1\", {\n      className: \"jsx-2255125347\"\n    }, restaurant.name), \" \", __jsx(\"br\", {\n      className: \"jsx-2255125347\"\n    })), searchQuery.length > 0 ? __jsx(Row, {\n      xs: \"3\"\n    }, dishList) : __jsx(\"h1\", {\n      className: \"jsx-2255125347\"\n    }, \"No Dishes Found\"), __jsx(\"br\", {\n      className: \"jsx-2255125347\"\n    }), __jsx(Cart, null), __jsx(_JSXStyle, {\n      id: \"2255125347\"\n    }, [\".text-card{font-weight:bold;}\", \"a{-webkit-text-decoration:underline;text-decoration:underline;font-weight:bold;}\", \".container-fluid{margin-bottom:30px;}\", \".btn-outline-primary{color:#007bff !important;}\", \"h2{text-align:center;color:black;height:90px;font-size:40px;font-family:'Playfair Display',serif;padding-top:20px;font-weight:bold;}\", \"h1{text-align:center;font-family:'Playfair Display',serif;font-weight:bold;}\"]));\n  } // if bracket\n\n} // function bracket\n\n\nexport default Restaurants;","map":null,"metadata":{},"sourceType":"module"}