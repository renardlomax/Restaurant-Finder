{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { gql, useQuery } from '@apollo/client';\nimport { useContext, useState } from 'react';\nimport client from './client';\nimport Link from \"next/link\";\nimport AppContext from \"./context\";\nimport { Button, Card, CardBody, CardImg, CardText, CardTitle, Container, Row, Col } from \"reactstrap\";\n\nfunction RestaurantList(props) {\n  const {\n    cart\n  } = useContext(AppContext);\n  const GET_RESTAURANTS = gql`\n    query {\n      restaurants {\n        id\n        name\n        \n        description\n        image {\n          url\n        }\n      }\n    }\n  `;\n  const {\n    loading,\n    error,\n    data\n  } = useQuery(GET_RESTAURANTS, {\n    client: client\n  });\n  if (loading) return __jsx(\"p\", null, \"Loading...\");\n  if (error) return __jsx(\"p\", null, \"ERROR\");\n  if (!data) return __jsx(\"p\", null, \"Not found\");\n  console.log(`Query Data: ${data.restaurants}`);\n  console.log(data.restaurants);\n  let searchQuery = data.restaurants.filter(res => {\n    return res.name.toLowerCase().includes(props.search);\n  });\n\n  if (searchQuery.length > 0) {\n    const restList = searchQuery.map(res => __jsx(Col, {\n      xs: \"6\",\n      sm: \"4\",\n      key: res.id\n    }, __jsx(Card, {\n      style: {\n        margin: \"0 0.5rem 20px 0.5rem\"\n      }\n    }, __jsx(CardImg, {\n      top: true,\n      style: {\n        height: 200\n      },\n      src: `http://localhost:1337` + res.image.url\n    }), __jsx(CardBody, {\n      className: \"text-card\"\n    }, __jsx(CardText, null, res.description)), __jsx(\"div\", {\n      className: \"card-footer\"\n    }, __jsx(Link, {\n      as: `/restaurants/${res.id}`,\n      href: `/restaurants?id=${res.id}`\n    }, __jsx(Button, {\n      color: \"danger\"\n    }, res.name))), __jsx(\"div\", {\n      className: \"jsx-1239119015\"\n    }, __jsx(_JSXStyle, {\n      id: \"1239119015\"\n    }, [\".text-card{font-size:1.1 rem;font-weight:bold;}\", \"Button:hover{color:white;background-color:blue;}\"])))));\n    return __jsx(Container, null, __jsx(Row, {\n      xs: \"3\"\n    }, restList));\n  } else {\n    return __jsx(\"h1\", null, \" No Restaurants Found\");\n  }\n}\n\nexport default RestaurantList;","map":null,"metadata":{},"sourceType":"module"}